(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"0fCZ":function(t,i,e){"use strict";e.r(i);var r=e("nE4k"),s=e.n(r),o=e("hiWa");Vue.use(s.a);var a={props:["classroom","rubricEdit"],created:function(){this.rubricEdit&&(this.rubric=this.rubricEdit)},data:function(){return{rubric:{name:"",rows:[]},data:o}},methods:{delSubItem:function(t,i){this.rubric.rows[t].items.splice(i,1),0==this.rubric.rows[t].items.length&&this.rubric.rows.splice(t,1)},addColumn:function(t){var i=this.rubric.rows[t],e=this.rubric.rows[t].items[this.rubric.rows[t].items.length-1].points+1;i.items.push({points:e,description:""}),this.$forceUpdate()},addRow:function(){this.rubric.rows.push({description:"",optional:!1,items:[{points:0,description:""}]})},back:function(){window.history.back()},createRubric:function(){var t=this;this.rubricEdit?axios.patch("/classroom/"+this.classroom.code+"/rubric/"+this.rubric.id,{rubric:this.rubric,_method:"patch"}).then((function(i){window.location.href="/classroom/"+t.classroom.code+"/rubrics"})):axios.post("/classroom/"+this.classroom.code+"/rubric",{rubric:this.rubric}).then((function(i){window.location.href="/classroom/"+t.classroom.code+"/rubrics"}))},handleEmojiPicked:function(t,i){var e=new Event("input");this.$refs[i][0].value+=t,this.$refs[i][0].dispatchEvent(e)},handleEditorClick:function(t){this.focusEditor(t)},focusEditor:function(t){this.$refs[t][0].focus()}}},n=(e("dH6p"),e("KHd+")),c=Object(n.a)(a,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("form",{staticClass:"p-3",on:{submit:function(i){return i.preventDefault(),t.createRubric(i)}}},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v(t._s(t.trans.get("evaluation.name")))]),t._v(" "),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rubric.name,expression:"rubric.name"}],staticClass:"input",attrs:{required:"",minlength:"3",type:"text"},domProps:{value:t.rubric.name},on:{input:function(i){i.target.composing||t.$set(t.rubric,"name",i.target.value)}}})])]),t._v(" "),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v(t._s(t.trans.get("evaluation.rows")))]),t._v(" "),e("div",{staticClass:"control"},t._l(t.rubric.rows,(function(i,r){return e("div",{key:r,staticClass:"rubric-row my-2"},[e("div",{staticClass:"description"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:i.description,expression:"row.description"}],staticStyle:{height:"100%"},attrs:{placeholder:t.trans.get("evaluation.general_description"),required:""},domProps:{value:i.description},on:{input:function(e){e.target.composing||t.$set(i,"description",e.target.value)}}})]),t._v(" "),e("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"button is-success mx-2",attrs:{content:t.trans.get("evaluation.add_column"),tabindex:"0"},on:{click:function(i){return t.addColumn(r)}}},[e("i",{staticClass:"fas fa-plus"})]),t._v(" "),e("div",{staticClass:"subItems"},t._l(i.items,(function(i,s){return e("div",{key:s,staticClass:"subItem"},[e("div",{staticClass:"message mb-1 is-flex has-all-centered"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:i.description,expression:"column.description"}],ref:"textarea"+r+s,refInFor:!0,staticClass:"rich-editor-container rounded p-4",attrs:{required:""},domProps:{value:i.description},on:{keypress:function(i){if(!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter"))return null;i.preventDefault()},click:function(i){return t.handleEditorClick("textarea"+r+s)},input:function(e){e.target.composing||t.$set(i,"description",e.target.value)}}}),t._v(" "),e("emoji-picker",{attrs:{data:t.data},on:{"emoji:picked":function(i){return t.handleEmojiPicked(i,"textarea"+r+s)}}})],1),t._v(" "),e("div",{attrs:{id:"container"}}),t._v(" "),e("div",{staticClass:"pointsItem"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.points,expression:"column.points"}],staticStyle:{width:"4em"},attrs:{type:"number",value:"0",min:"0"},domProps:{value:i.points},on:{input:function(e){e.target.composing||t.$set(i,"points",e.target.value)}}}),t._v("\n              "+t._s(t.trans.get("evaluation.points"))+"\n            ")]),t._v(" "),t.rubricEdit?t._e():e("div",{staticClass:"button is-danger delSubItem",on:{click:function(i){return t.delSubItem(r,s)}}},[e("i",{staticClass:"far fa-trash-alt"})])])})),0)])})),0)]),t._v(" "),e("button",{staticClass:"button is-primary",on:{click:function(i){return i.preventDefault(),t.addRow(i)}}},[t._v(t._s(t.trans.get("evaluation.add_row")))]),t._v(" "),e("button",{staticClass:"button is-info",attrs:{type:"submit"},on:{click:function(i){return i.preventDefault(),t.back(i)}}},[t._v(t._s(t.trans.get("general.cancel")))]),t._v(" "),t.rubric.rows.length&&!this.rubricEdit?e("button",{staticClass:"button is-success",attrs:{type:"submit"}},[t._v(t._s(t.trans.get("evaluation.create_rubric")))]):t._e(),t._v(" "),this.rubricEdit?e("button",{staticClass:"button is-info",attrs:{type:"submit"}},[t._v(t._s(t.trans.get("evaluation.edit_rubric")))]):t._e()])}),[],!1,null,null,null);i.default=c.exports},EJKG:function(t,i,e){var r=e("Q/mp");"string"==typeof r&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(r,s);r.locals&&(t.exports=r.locals)},"Q/mp":function(t,i,e){(t.exports=e("I1BE")(!1)).push([t.i,".emoji-dropdown .emoji-preview,.emoji-dropdown .title{display:none!important}.message{position:relative;display:flex;width:100%}.message .rich-editor-container{width:100%;border:1px solid #ddd;padding:5px 40px 5px 15px}.message .rich-editor-container:focus{outline:none}.message .message-emoji{position:absolute;right:9px;top:9px}.message [contenteditable=true]:empty:before{content:attr(placeholder);color:grey}.emoji-dropdown{z-index:20!important}.rubric-rows{display:block;position:relative;background-color:#efefef;padding:30px;border-radius:5px;margin:10px auto;border:1px solid #757575}.rubric-row{display:flex;overflow:visible;width:100%}.addRubricItem{margin:0 0 0 10px}.subItem{background-color:#fff;padding:10px;margin:0 4px;border:1px solid #aaa;border-radius:10px;position:relative;overflow:visible}.subItems{display:flex}.delSubItem{position:absolute;bottom:-1px;right:0}.input p,input{padding:7px;border:1px solid #aaa;border-radius:5px}",""])},dH6p:function(t,i,e){"use strict";var r=e("EJKG");e.n(r).a}}]);
