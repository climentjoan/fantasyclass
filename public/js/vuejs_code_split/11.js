(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{ENOF:function(t,e,a){"use strict";a.r(e);var s=a("XuX8"),i=a.n(s),n=(a("o0O0"),a("EyHm")),o=a.n(n);i.a.use(o.a),i.a.component("apexchart",o.a);var r={props:["student","classroom","chart","admin","items","shop","challenges","cards","evaluation","settings"],mounted:function(){this.behaviours=this.student.behaviours,this.admin||(this.activeTab=1,this.updateEmpty(),this.itemsJson=JSON.parse(this.shop.items),this.eq1Json=JSON.parse(this.shop.eq1),this.eq2Json=JSON.parse(this.shop.eq2),this.eq3Json=JSON.parse(this.shop.eq3))},data:function(){return{activeTab:0,dateStart:null,dateEnd:null,series:[],labels:[],colors:[],update:0,inventoryRemaining:0,itemsJson:null,eq1Json:null,eq2Json:null,eq3Json:null,forceReload:0,prevImage:null,image:null,behaviours:null}},methods:{calculate:function(t){console.log(t);var e=1;switch(t.offset){case 1:e=this.shop.multiplier1;break;case 2:e=this.shop.multiplier2;break;case 3:e=this.shop.multiplier3}return Math.round(t.price*e)},deleteStudent:function(){var t=this;this.$buefy.dialog.confirm({title:this.trans.get("general.delete"),message:this.trans.get("general.confirm_delete"),confirmText:this.trans.get("general.delete"),type:"is-danger",hasIcon:!0,icon:"times-circle",iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0,onConfirm:function(){axios.delete("/classroom/"+t.classroom.code+"/student/"+t.student.id,{_method:"delete"}).then((function(e){location.href="/classroom/"+t.classroom.code}))}})},updateName:function(){var t=this;this.student.name.length>=4?axios.post("/classroom/"+this.classroom.code+"/student/name",{id:this.student.id,name:this.student.name}).then((function(e){t.$toasted.show(t.trans.get("success_error.update_success"),{position:"top-center",duration:3e3,iconPack:"fontawesome",icon:"check",type:"success"}),t.$forceUpdate()})):this.$toasted.show(this.trans.get("success_error.min_name"),{position:"top-center",duration:3e3,iconPack:"fontawesome",icon:"times",type:"error"})},confirmDelete:function(t,e,a){var s=this;this.$buefy.dialog.confirm({title:this.trans.get("general.delete"),message:this.trans.get("general.confirm_delete"),confirmText:this.trans.get("general.delete"),type:"is-danger",hasIcon:!0,icon:"times-circle",iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0,onConfirm:function(){axios.post("/classroom/student/"+t,{row:e,date:a,student:s.student.id,_method:"delete"}).then((function(e){"behaviour"==t?(s.behaviours=e.data,s.student.updated_at=new Date,s.forceRerender()):location.reload()}))}})},toggle:function(t){var e=this;axios.post("/classroom/student/badge",{badge:t,student:this.student.id}).then((function(t){e.student.badges=t.data.badges,e.student.hp=t.data.hp,e.student.xp=t.data.xp,e.student.gold=t.data.gold,e.$forceUpdate()}))},findInStudent:function(t){return!(this.student.badges.findIndex((function(e,a){return e.id===t}))>=0)},updateEmpty:function(){var t=6;this.student.items.length>=6&&(t=12),this.inventoryRemaining=t-this.student.items.length},confirmChangeClass:function(t){var e=this;this.$buefy.dialog.confirm({title:"Class change",message:"Basic equipment will be assigned, this action can't be undone.",confirmText:"Change class",type:"is-warning",iconPack:"fa",hasIcon:!0,onConfirm:function(){axios.post("/classroom/"+e.classroom.code+"/student/changecharacter",{id:e.student.id,character_id:t,mode:"student"}).then((function(t){location.reload()}))}})},useItem:function(t,e){var a=this;this.$buefy.dialog.confirm({message:e+" <br><br>Would you like to use the item?",onConfirm:function(){axios.post("/classroom/"+a.classroom.code+"/student/useitem",{id:a.student.id,itemId:t.id}).then((function(e){e.data&&(t.pivot.count--,0==t.pivot.count&&a.inventoryRemaining++,a.student.hp=Math.min(a.student.hp+e.data.hp,100),a.student.xp+=e.data.xp,a.forceRerender())}))}})},forceRerender:function(){this.update+=1},updateInventory:function(t,e){axios.patch("/classroom/student/inventory",{id:this.student.id,item_id:t,count:e,_method:"patch"})},message:function(t){var e="";return t.hp>0&&(e+="This item recovers "+t.hp+" <i class='fas fa-heart colored'></i>. "),t.xp>0&&(e+="This item gives you "+t.xp+" <i class='fas fa-fist-raised colored'></i>. "),""!=e||t.description?(e+=t.description?t.description:"",e):"What is that?"},propertiesMessage:function(t){return t.hp+"% <i class='fas fa-heart colored'></i> "+t.xp+"% <i class='fas fa-fist-raised colored'></i> "+t.gold+"% <i class='fas fa-coins colored'></i>"},sortByDate:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a?new Date(e.pivot.created_at).getTime()-new Date(t.pivot.created_at).getTime():new Date(t.pivot.created_at).getTime()-new Date(e.pivot.created_at).getTime()},sortLogByDate:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a?new Date(e.created_at).getTime()-new Date(t.created_at).getTime():new Date(t.created_at).getTime()-new Date(e.created_at).getTime()},buyItem:function(t){var e=this;this.$buefy.dialog.confirm({title:"Buy item",message:"Do you want to buy the item?",confirmText:"Buy",type:"is-link",iconPack:"fa",hasIcon:!1,onConfirm:function(){axios.post("/classroom/"+e.classroom.code+"/student/buyitem",{item:t.id}).then((function(a){e.$toasted.show(a.data.message,{position:"top-center",duration:3e3,iconPack:"fontawesome",icon:a.data.icon,type:a.data.type}),"success"==a.data.type&&(e.student.items=a.data.items,e.updateEmpty(),e.student.gold=e.student.gold-t.price,e.$forceUpdate())}))}})},buyEquipment:function(t,e){var a=this;this.$buefy.dialog.confirm({title:"Buy item",message:"Do you want to buy the item "+e.price+"<i class='fas fa-coins colored'></i>? ("+e.hp+"% <i class='fas fa-heart colored'></i> | "+e.xp+"% <i class='fas fa-fist-raised colored'></i> | "+e.gold+"% <i class='fas fa-coins colored'></i>)",confirmText:"Buy",type:"is-link",iconPack:"fa",hasIcon:!1,onConfirm:function(){axios.post("/classroom/"+a.classroom.code+"/student/buyequipment",{new:e}).then((function(s){if(a.$toasted.show(s.data.message,{position:"top-center",duration:3e3,iconPack:"fontawesome",icon:s.data.icon,type:s.data.type}),"success"==s.data.type){a.student.equipment=s.data.equipment,a.student.gold=a.student.gold-a.calculate(e),t.src=e.src;var i="item"+t.id;a.student.boost=s.data.boost;var n="inv-item-armor-bronce";switch(e.offset){case 2:n="inv-item-armor-silver";break;case 3:n="inv-item-armor-gold"}a.$refs[i][0].classList.add(n),a.$forceUpdate()}}))}})},filterEquipment:function(t,e){if(t)return t.filter((function(t){return t.type==e}))},updateAvatar:function(){var t=this;this.image.generateBlob((function(e){if(null!=e){var a=new FormData;a.append("avatar",e,"avatar.png"),t.admin&&a.append("student_id",t.student.id),axios.post("/classroom/"+t.classroom.code+"/setting/updateavatar",a,{headers:{"content-type":"multipart/form-data"}}).then((function(t){location.reload()}))}}),"image/png",.8)}},computed:{filteredEntries:function(){var t=this;if(this.behaviours)return this.behaviours.filter((function(e){return(e.pivot.created_at>=t.dateStart||!t.dateStart)&&(e.pivot.created_at<=t.dateEnd||!t.dateEnd)}))},filteredLogEntries:function(){var t=this;return this.student.log_entries.filter((function(e){return(e.created_at>=t.dateStart||!t.dateStart)&&(e.created_at<=t.dateEnd||!t.dateEnd)}))},groupedData:function(){return _.groupBy(this.filteredEntries,"id")},orderedEquipment:function(){return _.orderBy(this.student.equipment,"type")},orderedChallenges:function(){return _.orderBy(this.challenges,"datetime","desc")}},watch:{groupedData:{immediate:!0,handler:function(){var t=this,e=["#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#003300","#002200","#001100","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],a=["#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c","#570000","#370000","#170000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"];this.series=this.labels=[];var s=this.groupedData,i=[];for(var n in s)i.push(s[n]);this.labels=[],this.series=[],this.colors=[],i.forEach((function(s){var i=s[0];t.series.push(s.length),t.labels.push("<i class='"+i.icon+"'></i> "+t.trans.get(i.name)),i.xp+i.hp+i.gold>=0?(t.colors.push(e[0]),e.shift()):(t.colors.push(a[0]),a.shift())}))}}}},c=a("KHd+"),l=Object(c.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns h-100 has-margin-right-0",class:{"has-bg-student":!t.admin}},[a("div",{staticClass:"column is-narrow has-padding-right-0"},[a("div",{staticClass:"card rounded card-shadow-s",staticStyle:{"min-width":"275px"}},[t.student.level?a("span",{staticClass:"level-top rounded has-padding-4 has-background-light"},[a("show-level",{staticClass:"level-hidden",attrs:{level:t.student.level,edit:!1}}),t._v("\n        "+t._s(t.student.level.number)+"\n      ")],1):t._e(),t._v(" "),a("div",{staticClass:"card-image card-shadow-s rounded-top char-bg",style:"min-height: 160px;background-color:"+t.classroom.theme.color+";background-image: url(/img/bg/thumb_"+t.classroom.theme.name+");"},[a("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"boost-right outer_glow_dark",attrs:{content:"<i class='fas fa-heart colored'></i>"+t.student.boost.hp+"% | <i class='fas fa-fist-raised colored'></i>"+t.student.boost.xp+"% | <i class='fas fa-coins colored'></i>"+t.student.boost.gold+"%"}},[a("i",{staticClass:"fas fa-arrow-alt-square-up"})]),t._v(" "),t.classroom.character_theme?a("div",{staticClass:"character-container character character-small is-relative"},t._l(t.student.equipment,(function(t){return a("img",{key:t.id,class:t.classes,attrs:{src:"/img/character/"+t.src}})})),0):a("div",{staticClass:"is-flex has-all-centered has-padding-y-3"},[a("img",{staticClass:"rounded",attrs:{src:t.student.avatar,width:"128px",height:"128px",alt:""}})])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"media has-margin-bottom-0 has-all-centered"},[t.classroom.character_theme?a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-48x48"},[a("img",{staticClass:"rounded",attrs:{src:t.student.avatar,alt:""}})])]):t._e(),t._v(" "),a("div",{staticClass:"media-content"},[a("p",{staticClass:"title is-4"},[t._v(t._s(t.student.name))]),t._v(" "),a("p",{staticClass:"subtitle is-6"},[a("small",[t._v("@"+t._s(t.student.username))])])])]),t._v(" "),a("div",{staticClass:"score has-padding-3 centered-attribute has-margin-1 has-margin-y-4 has-all-centered",staticStyle:{border:"none"}},[a("span",{staticClass:"attribute has-background-white-ter has-padding-y-3 rounded",staticStyle:{width:"100%"}},[a("span",[a("i",{staticClass:"fas fa-heart colored has-text-grey-light",class:{invisible:t.student.hp>=30}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.student.hp<30,expression:"student.hp<30"}],staticClass:"has-text-grey-light"},[t._v(t._s(t.student.hp))])]),t._v(" "),t.student.hp>0?a("span",{staticClass:"attribute has-background-danger has-padding-y-3 rounded-left",class:{rounded:100==t.student.hp},style:"width: "+t.student.hp+"%"},[a("i",{staticClass:"fas fa-heart colored",class:{invisible:t.student.hp<30}}),t._v(" "),t.student.hp>=30?a("span",[t._v(t._s(t.student.hp))]):t._e()]):t._e()]),t._v(" "),a("div",{staticClass:"score has-padding-3 has-margin-1 has-margin-top-3"},[t._m(0),t._v("\n          "+t._s(t.student.xp)+"\n        ")]),t._v(" "),a("div",{staticClass:"gold has-padding-3 has-margin-1 has-margin-top-2"},[t._m(1),t._v("\n          "+t._s(t.student.gold)+"\n        ")])])])]),t._v(" "),a("div",{staticClass:"column has-padding-right-0"},[a("b-tabs",{key:t.update,model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("b-tab-item",{attrs:{label:"Information",icon:"info-circle","icon-pack":"fad"}},[a("div",{},[a("div",{staticClass:"has-margin-3"},[a("croppa",{staticClass:"rounded",attrs:{width:128,height:128,accept:"image/*",placeholder:"📷 Avatar","placeholder-font-size":16,"canvas-color":"transparent","show-remove-button":!0,"remove-button-color":"black","show-loading":!0,"loading-size":50},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1),t._v(" "),a("div",{staticClass:"has-margin-3"},[t.image&&t.image.chosenFile?a("button",{staticClass:"button is-link",on:{click:function(e){return t.updateAvatar()}}},[t._v("Update avatar")]):t._e()])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Name")])]),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field has-addons"},[a("div",{staticClass:"control"},[a("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.student.name,expression:"student.name"}],staticClass:"input",class:{"is-static":!t.admin},attrs:{type:"text"},domProps:{value:t.student.name},on:{input:function(e){e.target.composing||t.$set(t.student,"name",e.target.value)}}},"input",{disabled:!t.admin},!1))]),t._v(" "),t.admin&&t.student.name.length>=4?a("div",{staticClass:"control"},[a("a",{staticClass:"button is-info",on:{click:t.updateName}},[a("i",{staticClass:"fas fa-save"})])]):t._e()])])]),t._v(" "),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Username")])]),t._v(" "),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.student.username,expression:"student.username"}],staticClass:"input is-static",attrs:{disabled:"",type:"text"},domProps:{value:t.student.username},on:{input:function(e){e.target.composing||t.$set(t.student,"username",e.target.value)}}})])])])]),t._v(" "),t.student.password_plain&&t.admin?a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Password")])]),t._v(" "),a("div",{staticClass:"field-body"},[a("b-field",{staticClass:"is-static"},[a("b-input",{staticStyle:{width:"200px"},attrs:{type:"password","icon-pack":"fas",disabled:"","password-reveal":""},model:{value:t.student.password_plain,callback:function(e){t.$set(t.student,"password_plain",e)},expression:"student.password_plain"}})],1)],1)]):t._e(),t._v(" "),t.classroom.character_theme&&t.student.hp>0?a("div",{staticClass:"has-padding-4"},t._l(t.classroom.character_theme.characters,(function(e){return a("img",{directives:[{name:"tippy",rawName:"v-tippy"}],key:e.id,staticClass:"has-padding-2 has-margin-2 rounded",class:{selected:e.id==t.student.character_id},attrs:{content:"Highlights in <i class='"+e.property+" colored'></i>",src:"/img/character/"+e.id+".png"},on:{click:function(a){return t.confirmChangeClass(e.id)}}})})),0):t._e(),t._v(" "),t.admin?a("div",[a("button",{staticClass:"button is-danger",on:{click:t.deleteStudent}},[a("i",{staticClass:"fas fa-trash has-margin-right-2"}),t._v(" Delete student from classroom\n          ")])]):t._e()]),t._v(" "),a("b-tab-item",{staticClass:"has-padding-0",attrs:{label:"Inventory",icon:"backpack","icon-pack":"fad"}},[t.admin?a("div",{staticClass:"columns is-multiline is-variable"},t._l(t.items,(function(e){return a("div",{key:e.id,staticClass:"column has-padding-y-2 is-6-tablet is-12-mobile is-4-desktop is-3-fullhd"},[a("b-field",[a("p",{staticClass:"control"},[a("img",{attrs:{src:e.icon}})]),t._v(" "),a("b-numberinput",{attrs:{min:"0","icon-pack":"fa",expanded:"",controlsPosition:"compact"},on:{input:function(a){return t.updateInventory(e.id,e.count)}},model:{value:e.count,callback:function(a){t.$set(e,"count",a)},expression:"item.count"}})],1)],1)})),0):t._e(),t._v(" "),t.admin?t._e():a("div",{staticClass:"inventory",attrs:{id:"inventory"}},[a("div",t._l(t.student.items,(function(e){return a("div",{directives:[{name:"tippy",rawName:"v-tippy"},{name:"show",rawName:"v-show",value:e.pivot.count>0,expression:"item.pivot.count>0"}],key:e.id,staticClass:"inventory-item",attrs:{content:t.message(e)}},[a("img",{staticClass:"item",attrs:{src:e.icon},on:{click:function(a){e.hp>0&&t.useItem(e,t.message(e))}}}),t._v(" "),a("div",{staticClass:"number-items"},[t._v(t._s(e.pivot.count))])])})),0),t._v(" "),a("div",t._l(t.inventoryRemaining,(function(t){return a("div",{key:t,staticClass:"inventory-item"})})),0),t._v(" "),t.classroom.character_theme?a("div",{key:t.forceReload},t._l(t.orderedEquipment,(function(e){return a("div",{directives:[{name:"tippy",rawName:"v-tippy"}],key:e.id,ref:"item"+e.id,refInFor:!0,staticClass:"inventory-item inv-item-armor relative",class:{"inv-item-armor-bronce":1==e.offset,"inv-item-armor-silver":2==e.offset,"inv-item-armor-gold":3==e.offset},attrs:{content:t.propertiesMessage(e)}},[a("img",{staticClass:"item",attrs:{src:"/img/character/"+e.src,alt:e.id}}),t._v(" "),t.eq1Json||t.eq2Json||t.eq3Json?a("div",{staticClass:"price-buy rounded not-hover"},[a("i",{staticClass:"fas fa-plus"})]):t._e(),t._v(" "),a("div",{staticClass:"w-100 shop-sub-item",staticStyle:{position:"absolute",top:"100px",left:"0"}},t._l([t.eq1Json,t.eq2Json,t.eq3Json],(function(s,i){return a("div",{key:i},t._l(t.filterEquipment(s,e.type),(function(s){return a("div",{key:s.id,staticClass:"inventory-item inv-item-armor w-100",class:{"inv-item-armor-bronce":0==i,"inv-item-armor-silver":1==i,"inv-item-armor-gold":2==i}},[a("img",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"item",attrs:{content:t.propertiesMessage(s),src:"/img/character/"+s.src,alt:s.id}}),t._v(" "),a("div",{staticClass:"price-buy rounded",on:{click:function(a){return t.buyEquipment(e,s)}}},[t._v("\n                      "+t._s(t.calculate(s))+"\n                      "),a("i",{staticClass:"fas fa-coins colored"})])])})),0)})),0)])})),0):t._e(),t._v(" "),a("div",{staticStyle:{clear:"both"}})]),t._v(" "),t.itemsJson?a("div",{staticClass:"shop has-padding-top-3"},[a("h2",{staticClass:"is-size-2"},[a("i",{staticClass:"fas fa-store"}),t._v(" Shop\n          ")]),t._v(" "),t._l(t.itemsJson,(function(e){return a("div",{key:e.id,staticClass:"columns has-padding-4 has-margin-2 rounded"},[a("div",{staticClass:"column is-relative is-flex has-all-centered is-narrow"},[e.min_lvl?a("div",{staticClass:"lvl-item-top-left"},[a("img",{staticClass:"levelCard",attrs:{src:"/img/cardgen/lvl.png"}}),t._v(" "),a("span",{staticClass:"is-flex has-all-centered"},[t._v(t._s(e.min_lvl))])]):t._e(),t._v(" "),a("img",{attrs:{src:e.icon}})]),t._v(" "),a("div",{staticClass:"column is-flex has-all-centered rounded wheat",domProps:{innerHTML:t._s(t.message(e))}}),t._v(" "),a("div",{staticClass:"column is-flex has-all-centered is-narrow item-price"},[a("button",{staticClass:"button is-success",on:{click:function(a){return t.buyItem(e)}}},[t._v("\n                Buy "+t._s(e.price)+"\n                "),a("i",{staticClass:"fas fa-coins colored",staticStyle:{"z-index":"0"}})])])])}))],2):t._e()]),t._v(" "),t.cards.length?a("b-tab-item",{attrs:{label:"Cards",icon:"club","icon-pack":"fad"}},[a("div",{staticClass:"columns is-multiline is-variable"},t._l(t.cards,(function(e,s){return a("div",{key:s,staticClass:"column is-6-tablet is-12-mobile is-6-desktop is-4-fullhd"},[a("show-card",{staticClass:"has-margin-4",attrs:{student:t.student,card:e,code:t.classroom.code,use:!0,admin:!1}})],1)})),0)]):t._e(),t._v(" "),t.behaviours&&t.behaviours.length?a("b-tab-item",{attrs:{label:"Behaviours",icon:"heart","icon-pack":"fad"}},[a("div",{staticClass:"is-flex justify-content-center"},[t.series.length?a("apexchart",{attrs:{width:"450",type:"donut",options:{labels:t.labels,colors:t.colors},series:t.series}}):t._e()],1),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateStart,expression:"dateStart"}],staticClass:"input is-rounded",attrs:{type:"date"},domProps:{value:t.dateStart},on:{input:function(e){e.target.composing||(t.dateStart=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"column"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateEnd,expression:"dateEnd"}],staticClass:"input is-rounded",attrs:{type:"date"},domProps:{value:t.dateEnd},on:{input:function(e){e.target.composing||(t.dateEnd=e.target.value)}}})])]),t._v(" "),t.behaviours&&t.behaviours.length?a("b-table",{attrs:{data:t.filteredEntries,"default-sort":"created_at","default-sort-direction":"desc","icon-pack":"fas","sort-icon":"arrow-up"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"icon",label:"Icon",centered:""}},[a("span",{staticClass:"tag",class:[e.row.xp+e.row.hp+e.row.gold>=0?"is-success":"is-danger"]},[a("i",{class:e.row.icon})])]),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Name",centered:"",sortable:""}},[t._v(t._s(t.trans.get(e.row.name)))]),t._v(" "),a("b-table-column",{attrs:{field:"created_at",label:"Created at","default-sort-direction":"desc","custom-sort":t.sortByDate,sortable:"",centered:""}},[t._v(t._s(new Date(e.row.pivot.created_at).toLocaleDateString()))]),t._v(" "),a("b-table-column",{attrs:{field:"hp",label:"Health Points",centered:"",sortable:""}},[a("i",{staticClass:"fas fa-heart"}),t._v("\n              "+t._s(e.row.hp)+"\n            ")]),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Experience",sortable:"",centered:""}},[a("i",{staticClass:"fas fa-fist-raised"}),t._v("\n              "+t._s(e.row.xp)+"\n            ")]),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Gold",sortable:"",centered:""}},[a("i",{staticClass:"fas fa-coins"}),t._v("\n              "+t._s(e.row.gold)+"\n            ")]),t._v(" "),t.admin?a("b-table-column",{attrs:{field:"name",label:"Settings",centered:""}},[a("b-button",{attrs:{type:"is-danger is-small"},on:{click:function(a){return t.confirmDelete("behaviour",e.row,e.row.pivot.created_at)}}},[a("i",{staticClass:"fas fa-trash-alt"})])],1):t._e()]}}],null,!1,1043174481)}):t._e()],1):t._e(),t._v(" "),t.challenges&&t.challenges.length?a("b-tab-item",{attrs:{label:"Challenges",icon:"pen-fancy","icon-pack":"fad"}},t._l(t.orderedChallenges,(function(e){return a("div",{key:e.id},[a("show-challenge",{attrs:{challenge:e,code:t.classroom.code,admin:t.admin,edit:!1}})],1)})),0):t._e(),t._v(" "),t.evaluation?a("b-tab-item",{attrs:{label:"Evaluation",icon:"analytics","icon-pack":"fad"}},[a("report",{attrs:{classroom:t.classroom,admin:t.admin,grades:t.evaluation,settings:t.settings}})],1):t._e(),t._v(" "),t.classroom.badges&&t.classroom.badges.length||t.student.badges.length?a("b-tab-item",{attrs:{label:"Badges",icon:"award","icon-pack":"fad"}},[t.admin?a("div",{staticClass:"has-padding-left-4"},t._l(t.classroom.badges,(function(e){return a("div",{key:e.id},[a("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"personalBadge type0",class:{notColored:t.findInStudent(e.id)},attrs:{content:"<h1>"+e.title+"</h1><h3>"+e.description+"</h3>"},on:{click:function(a){return t.toggle(e.id)}}},[a("i",{class:"fal "+e.icon})])])})),0):t._e(),t._v(" "),t.admin?t._e():a("div",{staticClass:"has-padding-left-4"},t._l(t.student.badges,(function(t){return a("div",{key:t.id},[a("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"personalBadge type0",attrs:{content:"<h1>"+t.title+"</h1><h3>"+t.description+"</h3>"}},[a("i",{class:"fal "+t.icon})])])})),0)]):t._e(),t._v(" "),t.student.log_entries.length?a("b-tab-item",{attrs:{label:"Log",icon:"file","icon-pack":"fad"}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateStart,expression:"dateStart"}],staticClass:"input is-rounded",attrs:{type:"date"},domProps:{value:t.dateStart},on:{input:function(e){e.target.composing||(t.dateStart=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"column"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dateEnd,expression:"dateEnd"}],staticClass:"input is-rounded",attrs:{type:"date"},domProps:{value:t.dateEnd},on:{input:function(e){e.target.composing||(t.dateEnd=e.target.value)}}})])]),t._v(" "),t.student.log_entries.length?a("b-table",{attrs:{data:t.filteredLogEntries,"default-sort":"created_at","default-sort-direction":"desc","icon-pack":"fas","sort-icon":"arrow-up"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"type",label:"Type",centered:""}},[a("span",{staticClass:"tag",class:[e.row.value>=0?"is-success":"is-danger"]},["xp"==e.row.type?a("span",[t._v("✊")]):t._e(),t._v(" "),"gold"==e.row.type?a("span",[t._v("💰")]):t._e(),t._v(" "),"hp"==e.row.type?a("span",[t._v("❤️")]):t._e()])]),t._v(" "),a("b-table-column",{attrs:{field:"value",label:"value",sortable:""}},[t._v(t._s(e.row.value))]),t._v(" "),a("b-table-column",{attrs:{field:"created_at",label:"Created at","default-sort-direction":"desc","custom-sort":t.sortLogByDate,sortable:"",centered:""}},[t._v(t._s(new Date(e.row.created_at).toLocaleDateString()))]),t._v(" "),t.admin?a("b-table-column",{attrs:{field:"name",label:"Settings",centered:""}},[a("b-button",{attrs:{type:"is-danger is-small"},on:{click:function(a){return t.confirmDelete("logentry",e.row,e.row.created_at)}}},[a("i",{staticClass:"fas fa-trash-alt"})])],1):t._e()]}}],null,!1,3626445575)}):t._e()],1):t._e()],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-fist-raised colored"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-coins colored"})])}],!1,null,null,null);e.default=l.exports}}]);