(window.webpackJsonp=window.webpackJsonp||[]).push([[25,32],{"0RRw":function(e,t,a){"use strict";a.r(t);var n={props:["code","challenge","editgroup"],created:function(){this.csrfToken=document.querySelector('meta[name="csrf-token"]').content,this.editgroup&&(this.challengeInfo=this.editgroup)},data:function(){return{csrfToken:null,challengeInfo:{challenges_group_id:null,id:null,icon:this.icon,name:null},icon:null}},components:{IconSelector:function(){return Promise.all([a.e(0),a.e(1)]).then(a.bind(null,"NNFD"))}},methods:{formSubmit:function(e){var t=this;this.challengeInfo.icon=this.icon,axios.post("/classroom/"+this.code+"/challenges/group",this.$data.challengeInfo).then((function(e){t.$toast(e.data.message,{type:e.data.type}),e.data.challenge&&t.$parent.refresh(e.data.challenge)})),this.$parent.activeAddGroup=!1,this.$parent.$forceUpdate()},update:function(){}}},s=a("KHd+"),l=Object(s.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pl-0-desktop"},[a("div",{staticClass:"panel pl-0"},[e._m(0),e._v(" "),a("div",{staticClass:"p-4 panel-block"},[a("form",{staticClass:"w-100",attrs:{method:"post",action:"/classroom/"+this.code+"/challenge"},on:{submit:function(t){return t.preventDefault(),e.formSubmit(t)}}},[a("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:e.csrfToken}}),e._v(" "),a("div",{staticClass:"my-3"},[a("label",{attrs:{for:"name"}},[a("span",{staticClass:"help is-danger is-inline"},[e._v("* ")]),e._v("\n            "+e._s(e.trans.get("challenges.icon")))])]),e._v(" "),a("div",{staticClass:"field has-addons"},[a("p",{staticClass:"control"},[a("IconSelector")],1),e._v(" "),a("p",{staticClass:"control is-expanded"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.icon,expression:"icon"}],ref:"icon",staticClass:"input",attrs:{name:"icon",required:"",placeholder:e.trans.get("behaviours.icon_select"),type:"text"},domProps:{value:e.icon},on:{input:function(t){t.target.composing||(e.icon=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group",staticStyle:{"margin-top":"-10px"}},[a("label",[a("small",[e._v(e._s(e.trans.get("behaviours.fontawesome"))+"\n              "),a("a",{attrs:{href:"https://fontawesome.com/icons?d=gallery",target:"_blank"}},[e._v("FontAwesome")])])])]),e._v(" "),a("div",{staticClass:"mt-3"},[a("label",{attrs:{for:"name"}},[a("span",{staticClass:"help is-danger is-inline"},[e._v("* ")]),e._v("\n            "+e._s(e.trans.get("challenges.name")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.challengeInfo.name,expression:"challengeInfo.name"}],staticClass:"input my-3",attrs:{type:"text",id:"name",name:"name",required:""},domProps:{value:e.challengeInfo.name},on:{input:function(t){t.target.composing||e.$set(e.challengeInfo,"name",t.target.value)}}})]),e._v(" "),e.$parent.challengesgroup.length?a("div",{staticClass:"mt-3"},[a("label",{attrs:{for:"name"}},[e._v(e._s(e.trans.get("challenges.parent")))]),e._v(" "),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("div",{staticClass:"select is-fullwidth"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.challengeInfo.challenges_group_id,expression:"challengeInfo.challenges_group_id"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.challengeInfo,"challenges_group_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}}),e._v(" "),e._l(e.$parent.challengesgroup,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.name)+"\n                  ")])}))],2)])])])]):e._e(),e._v(" "),a("div",{staticClass:"mt-3"},[e.challenge?a("button",{staticClass:"button is-link",attrs:{type:"button"},on:{click:e.update}},[e._v("\n            "+e._s(e.trans.get("challenges.edit"))+"\n          ")]):e._e(),e._v(" "),e.challenge?e._e():a("button",{staticClass:"button is-success",attrs:{type:"submit"}},[e._v("\n            "+e._s(e.trans.get("challenges.create"))+"\n          ")])])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"panel-heading is-flex has-space-between align-items-center p-4"},[t("span",{staticClass:"pl-3"},[this._v("Create ")])])}],!1,null,null,null);t.default=l.exports},RfKA:function(e,t,a){"use strict";a.r(t);var n=a("0RRw"),s=a("Htx7"),l={props:["code","challengesgroup","icon"],mounted:function(){},data:function(){return{activeAddGroup:!1,activeGroup:!1,updated:!1,challenges:[],isLoading:!1}},methods:{refresh:function(e){e.challenges_group_id?this.challengesgroup.filter((function(t){return t.id==e.challenges_group_id}))[0].children.push(e):this.challengesgroup.push(e);this.$forceUpdate()},getChallenges:function(e){var t=this;axios.post("/classroom/"+this.code+"/challenges/get",{id:e}).then((function(e){t.challenges=e.data}))}},components:{CreateChallengeGroup:n.default,ShowChallenges:s.default},computed:{buttonAddGroup:function(){return this.activeAddGroup?this.trans.get("general.cancel"):"<i class='far fa-plus pr-2'></i>"+this.trans.get("challenges.add_category")}}},i=a("KHd+"),o=Object(i.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns p-2"},[a("div",{staticClass:"column is-narrow pr-0",staticStyle:{"min-width":"400px"}},[a("article",{staticClass:"panel is-sticky-panel is-info"},[a("p",{staticClass:"panel-heading is-flex has-space-between align-items-center p-3"},[a("span",[e._v(e._s(e.trans.get("challenges.categories")))]),e._v(" "),a("button",{staticClass:"button",domProps:{innerHTML:e._s(e.buttonAddGroup)},on:{click:function(t){e.activeAddGroup=!e.activeAddGroup}}})]),e._v(" "),e._l(e.challengesgroup,(function(t){return a("div",{key:t.id,staticClass:"panel-block is-flex is-flex-column p-0",staticStyle:{"align-items":"flex-start"}},[a("div",{staticClass:"highlight-arrow is-flex has-space-between w-100 is-fullwidth cursor-pointer pl-1 pr-4 py-3",on:{click:function(a){e.getChallenges(t.id),e.activeGroup=t}}},[a("span",{staticClass:"p-2"},[a("span",{staticClass:"panel-icon"},[a("i",{class:t.icon,attrs:{"aria-hidden":"true"}})]),e._v(" "),a("span",{attrs:{title:t.name}},[e._v("\n              "+e._s(t.name.length>30?t.name.substring(0,30)+"...":t.name)+"\n              ")])]),e._v(" "),e._m(0,!0)]),e._v(" "),e._l(t.children,(function(t){return a("div",{key:t.id,staticClass:"highlight-arrow is-flex has-space-between w-100 is-fullwidth cursor-pointer pl-5 pr-4 py-3",on:{click:function(a){e.activeGroup=t,e.getChallenges(t.id)}}},[a("span",{staticClass:"p-2"},[a("span",{staticClass:"panel-icon"},[a("i",{class:t.icon,attrs:{"aria-hidden":"true"}})]),e._v(" "),a("span",{attrs:{title:t.name}},[e._v("\n              "+e._s(t.name.length>30?t.name.substring(0,30)+"...":t.name)+"\n              ")])]),e._v(" "),e._m(1,!0)])}))],2)}))],2)]),e._v(" "),a("div",{staticClass:"column pr-0"},[e.activeAddGroup?a("CreateChallengeGroup",{attrs:{code:e.code}}):e._e(),e._v(" "),e.activeAddGroup||!e.activeGroup||e.isLoading?e._e():a("ShowChallenges",{attrs:{icon:e.icon,code:e.code,challengegroup:e.activeGroup,challenges:e.challenges}})],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"p-2 arrow rounded-right"},[t("i",{staticClass:"fal fa-angle-right"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"p-2 arrow rounded-right"},[t("i",{staticClass:"fal fa-angle-right"})])}],!1,null,null,null);t.default=o.exports}}]);