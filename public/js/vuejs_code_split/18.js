(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{Hvc4:function(t,e,s){"use strict";var a=s("rK10");s.n(a).a},eA7m:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"@font-face{font-family:logo;src:url(/fonts/wizzta.otf)}.fade-enter-active,.fade-leave-active{transition:opacity .5s;transition-delay:1s}.fade-enter,.fade-leave-to{opacity:0}.fadesecond-enter-active,.fadesecond-leave-active{transition:opacity .5s;transition-delay:3s}.fadesecond-enter,.fadesecond-leave-to{opacity:0}.first-appear{height:30vh;background-color:hsla(0,0%,100%,.9);word-spacing:.2em;position:relative;padding:40px;z-index:5}.first-appear,.second-appear{display:flex;align-items:center;justify-content:center;border-bottom-left-radius:10px;border-bottom-right-radius:10px;box-shadow:0 4px 8px 0 rgba(0,0,0,.4);overflow:auto}.second-appear{height:70vh;background-color:hsla(0,0%,100%,.75);flex-direction:column;padding:70px 30px 30px;margin-top:-40px;z-index:2}.final{opacity:0}h2.second-appear>*{margin:5px}.hiddenName{display:inline-block;font-size:2.5em;position:relative;min-width:600px;text-align:center}.hideObj{position:absolute;z-index:1000;background-image:url(/img/hide.png);background-repeat:no-repeat;background-size:100% 100%;width:100%;height:120%;border-radius:5px;transition:opacity 1s;cursor:zoom-in}.hiddenName:hover .hideObj{opacity:0;transition-delay:1s}.hiddenMEssage{visibility:hidden}",""])},pbgD:function(t,e,s){"use strict";s.r(e);var a={props:["info","code"],mounted:function(){this.show=!0},data:function(){return{isWheelModalActive:!1,show:!1,selectedStudent:0,isCountDownModalActive:!1,showInfo:!1}},methods:{close:function(){window.location="/classroom/"+this.code},accept:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch(this.info.event.type){case 1:case 6:axios.post("/classroom/students/update",{id:this.info.student.id,prop:"hp",value:this.info.hp});break;case 5:axios.post("/classroom/students/update",{id:this.selectedStudent,prop:"hp",value:this.info.hp});break;case 2:axios.post("/classroom/students/update",{code:this.code,prop:"hp",value:this.info.hp});break;case 8:t?axios.post("/classroom/students/update",{id:this.info.student.id,prop:"gold",value:this.info.gold}):axios.post("/classroom/students/update",{id:this.info.student.id,prop:"hp",value:this.info.hp});break;case 9:t?axios.post("/classroom/students/update",{id:this.info.student.id,prop:"xp",value:this.info.xp}):axios.post("/classroom/students/update",{id:this.info.student.id,prop:"xp",value:-1*this.info.xp});break;case 10:axios.post("/classroom/students/update",{id:this.info.student.id,prop:"gold",value:this.info.gold});break;case 11:axios.post("/classroom/students/update",{id:this.info.student.id,card_id:this.info.card.id});break;case 12:var e="gold";this.info.value<0&&(e="hp"),axios.post("/classroom/students/update",{code:this.code,prop:e,value:this.info.value})}this.close()}}},i=(s("Hvc4"),s("KHd+")),n=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-0 content"},[s("transition",{attrs:{name:"fade"}},[t.show?s("h1",{staticClass:"first-appear is-size-1",domProps:{innerHTML:t._s(t.trans.get(t.info.event.title))}}):t._e()]),t._v(" "),s("transition",{attrs:{name:"fadesecond"}},[t.show?s("div",{staticClass:"second-appear"},[s("h2",{staticClass:"py-3 is-size-3 has-text-centered"},[t.info.event.type&&t.showInfo?t._e():s("span",{domProps:{innerHTML:t._s(t.trans.get(t.info.event.content))}}),t._v(" "),1==t.info.event.type||2==t.info.event.type||5==t.info.event.type?s("span",[t._v("\n          ("+t._s(t.info.hp)+"\n          "),s("i",{staticClass:"fas fa-heart colored"}),t._v(")\n        ")]):t._e(),t._v(" "),10==t.info.event.type?s("span",[t._v("\n          ("+t._s(t.info.gold)+"\n          "),s("i",{staticClass:"fas fa-coins colored"}),t._v(")\n        ")]):t._e(),t._v(" "),7==t.info.event.type?s("img",{attrs:{src:t.info.class}}):t._e()]),t._v(" "),1==t.info.event.type||3==t.info.event.type||4==t.info.event.type||6==t.info.event.type||8==t.info.event.type||9==t.info.event.type||10==t.info.event.type||11==t.info.event.type?s("h2",{staticClass:"py-3 is-size-3 has-text-centered"},[s("div",{staticClass:"hiddenName"},[s("div",{staticClass:"hideObj"}),t._v(" "),s("span",[t._v(t._s(t.info.student.name))])])]):t._e(),t._v(" "),8==t.info.event.type||9==t.info.event.type?s("h4",{staticClass:"py-3 mt-2 is-flex is-size-4 has-all-centered"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("button",{staticClass:"button is-success",on:{click:function(e){return t.accept()}}},[s("i",{staticClass:"fas fa-thumbs-up"}),t._v(" "),8==t.info.event.type?s("span",[t._v(t._s(t.info.gold))]):t._e(),t._v(" "),9==t.info.event.type?s("span",[t._v(t._s(t.info.xp))]):t._e(),t._v(" "),s("i",{staticClass:"fas colored",class:{"fa-coins":8==t.info.event.type,"fa-fist-raised":9==t.info.event.type}})])]),t._v(" "),s("div",{staticClass:"column"},[s("button",{staticClass:"button is-danger",on:{click:function(e){return t.accept(!1)}}},[s("i",{staticClass:"fas fa-thumbs-down"}),t._v(" "),8==t.info.event.type?s("span",[t._v(t._s(t.info.hp))]):t._e(),t._v(" "),9==t.info.event.type?s("span",[t._v(t._s(-1*t.info.xp))]):t._e(),t._v(" "),s("i",{staticClass:"fas colored",class:{"fa-heart":8==t.info.event.type,"fa-fist-raised":9==t.info.event.type}})])])])]):t._e(),t._v(" "),5==t.info.event.type?s("h4",{staticClass:"py-3 is-flex is-size-4 has-all-centered"},[s("b-modal",{attrs:{active:t.isCountDownModalActive,"has-modal-card":"","full-screen":"","can-cancel":!1},on:{"update:active":function(e){t.isCountDownModalActive=e}}},[s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Countdown")])]),t._v(" "),s("section",{staticClass:"modal-card-body is-flex has-all-centered",staticStyle:{"align-items":"flex-start"}},[s("count-down",{attrs:{starttime:new Date(1,1,1,0,0,10)}})],1),t._v(" "),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isCountDownModalActive=!1}}},[t._v("Close")])])])]),t._v(" "),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-narrow is-flex has-all-centered"},[t._v("\n            "+t._s(t.info.student.name)+"\n            "),s("i",{staticClass:"fal ml-3 fa-arrow-right"})]),t._v(" "),s("div",{staticClass:"column is-flex has-all-centered"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("div",{staticClass:"select is-danger"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedStudent,expression:"selectedStudent"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedStudent=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:t.info.student.id}},[t._v(t._s(t.info.student.name))]),t._v(" "),t._l(t.info.groupMembers,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])])])]),t._v(" "),s("div",{staticClass:"column is-narrow is-flex has-all-centered"},[s("button",{staticClass:"button is-link",on:{click:function(e){t.isCountDownModalActive=!0}}},[s("i",{staticClass:"fad fa-stopwatch"})])])])],1):t._e(),t._v(" "),14==t.info.event.type?s("button",{staticClass:"button is-primary",on:{click:function(e){t.isWheelModalActive=!0}}},[t._v(t._s(t.trans.get("events.wheel_btn")))]):t._e(),t._v(" "),11==t.info.event.type&&t.showInfo?s("show-card",{staticClass:"mt-2",staticStyle:{zoom:"0.5"},attrs:{card:t.info.card}}):t._e(),t._v(" "),11==t.info.event.type?s("button",{staticClass:"button mt-3",on:{click:function(e){t.showInfo=!t.showInfo}}},[t._v("Show / hide card")]):t._e(),t._v(" "),12==t.info.event.type?s("div",{staticClass:"columns"},[t.showInfo?t._e():s("div",{staticClass:"column"},[s("button",{staticClass:"button is-success",on:{click:function(e){t.showInfo=!0}}},[t._v(t._s(t.trans.get("events.go_ahead")))])]),t._v(" "),t.showInfo?t._e():s("div",{staticClass:"column"},[s("button",{staticClass:"button is-danger",on:{click:function(e){return t.close()}}},[t._v("Nope ...")])]),t._v(" "),t.showInfo?s("div",{staticClass:"column"},[s("span",{staticClass:"is-size-3 mt-3"},[t._v("\n            "+t._s(t.trans.get(t.info.text))+" ("+t._s(t.info.value)+"\n            "),s("i",{staticClass:"fas colored",class:{"fa-coins":t.info.value>0,"fa-heart":t.info.value<0}}),t._v(")\n          ")])]):t._e()]):t._e(),t._v(" "),8==t.info.event.type||9==t.info.event.type||12==t.info.event.type&&!t.showInfo?t._e():s("button",{staticClass:"button is-dark mt-5",on:{click:function(e){return t.accept()}}},[s("i",{staticClass:"fas fa-feather-alt"}),t._v(" Accept the destiny\n      ")])],1):t._e()]),t._v(" "),s("b-modal",{attrs:{active:t.isWheelModalActive,"has-modal-card":"","full-screen":"","can-cancel":!1},on:{"update:active":function(e){t.isWheelModalActive=e}}},[s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v(t._s(t.trans.get("utils.fortune")))])]),t._v(" "),s("section",{staticClass:"modal-card-body is-flex has-all-centered"},[s("wheel",{attrs:{students:t.info.students}})],1),t._v(" "),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isWheelModalActive=!1}}},[t._v("\n          "+t._s(t.trans.get("general.close"))+"\n        ")])])])])],1)}),[],!1,null,null,null);e.default=n.exports},rK10:function(t,e,s){var a=s("eA7m");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(a,i);a.locals&&(t.exports=a.locals)}}]);