(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Bcte:function(t,a,s){"use strict";s.r(a);var e=s("o0O0"),n={props:["maps","code","activeMap"],components:{ModalForm:{props:["name","url"],template:'\n            <div class="modal-card" style="width: auto">\n                <header class="modal-card-head p-2">\n                    <p class="modal-card-title">{{ name }}</p>\n                    <button class="button" type="button" @click="$parent.close()">{{ trans.get(\'general.close\') }}</button>\n                </header>\n                <section class="modal-card-body">\n                    <div>\n                    <iframe frameborder="0" class="map-iframe" \n                    v-bind:src="url"\n                    type="text/html" allowscriptaccess="always" allowfullscreen="true" scrolling="yes" allownetworking="all"></iframe>\n                    </div>\n                </section>\n            </div>\n        '}},created:function(){this.data=JSON.parse(this.maps),this.mapSelected=this.activeMap},data:function(){return{data:[],isComponentModalActive:!1,formProps:{url:"url",name:"name"},mapSelected:null,json_fields:{Name:"name",Url:"url"},sortIcon:"arrow-down",sortIconSize:"is-small"}},methods:{getURLRefactoring:function(t){return e.default.getURLRefactoring(t)},mapFullScreen:function(t,a){this.isComponentModalActive=!0,this.formProps.name=t,this.formProps.url=a},confirmDelete:function(t){var a=this;this.$buefy.dialog.confirm({title:this.trans.get("general.delete"),message:this.trans.get("general.confirm_delete"),confirmText:this.trans.get("general.delete"),cancelText:this.trans.get("general.cancel"),type:"is-danger",hasIcon:!0,icon:"times-circle",iconPack:"fa",ariaRole:"alertdialog",ariaModal:!0,onConfirm:function(){var s=a.data.findIndex((function(a,s){return a.id===t}));axios.delete("/classroom/maps/"+t).then((function(t){1===t.data&&a.data.splice(s,1)}))}})},confirmActive:function(t){var a=this;this.$buefy.dialog.confirm({title:this.trans.get("maps.active"),message:this.trans.get("maps.confirm_active"),confirmText:this.trans.get("maps.active"),cancelText:this.trans.get("general.cancel"),type:"is-info",hasIcon:!0,icon:"times-circle",iconPack:"fa",ariaRole:"dialog",ariaModal:!0,onConfirm:function(){axios.patch("/classroom/"+a.code+"/setting",{_method:"patch",prop:"active_map",value:t,action:"update"}),a.mapSelected=t}})}}},i=(s("cUxf"),s("KHd+")),r=Object(i.a)(n,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("section",{staticClass:"p-2 content"},[s("div",{staticClass:"columns mb-0"},[s("div",{staticClass:"column is-narrow"},[s("a",{staticClass:"button is-link",attrs:{href:"/classroom/"+this.code+"/maps/create"}},[t._v(t._s(t.trans.get("maps.add")))])]),t._v(" "),s("div",{staticClass:"column is-hidden-mobile"})]),t._v(" "),s("div",{staticClass:"m-0 w-100"},[t.data.length?s("b-table",{attrs:{data:t.data,"default-sort":["hp","desc"],"icon-pack":"fas","cell-class":"align-right","sort-icon":"arrow-up","row-class":function(a,s){return a.id==t.mapSelected&&"is-info"}},scopedSlots:t._u([{key:"default",fn:function(a){return[s("b-table-column",{attrs:{field:"name",label:t.trans.get("maps.name"),sortable:""}},[t._v(t._s(a.row.name))]),t._v(" "),s("b-table-column",{attrs:{field:"url",label:"Url",sortable:""}},[t._v(t._s(a.row.url))]),t._v(" "),s("b-table-column",{staticClass:"w-100 is-flex has-all-centered",attrs:{field:"settings",label:t.trans.get("menu.settings"),centered:""}},[s("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:t.trans.get("maps.preview"),type:"is-dark is-small"},on:{click:function(s){t.mapFullScreen(a.row.name,t.getURLRefactoring(a.row.url))}}},[s("i",{staticClass:"fas fa-eye"})]),t._v(" "),a.row.id!=t.mapSelected?s("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:t.trans.get("maps.set_active"),type:"is-primary is-small ml-3"},on:{click:function(s){return t.confirmActive(a.row.id)}}},[s("i",{staticClass:"fas fa-map-marker-check"})]):t._e(),t._v(" "),s("i",{staticClass:"fal fa-ellipsis-v fas fa-lg px-3"}),t._v(" "),s("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"button is-info is-small mr-3",attrs:{content:t.trans.get("general.edit"),href:"/classroom/"+t.code+"/maps/"+a.row.id}},[s("i",{staticClass:"fas fa-edit"})]),t._v(" "),s("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:t.trans.get("general.delete"),type:"is-danger is-small"},on:{click:function(s){return t.confirmDelete(a.row.id)}}},[s("i",{staticClass:"fas fa-trash-alt"})])],1)]}}],null,!1,4087311010)}):t._e()],1),t._v(" "),s("b-modal",{attrs:{active:t.isComponentModalActive,"has-modal-card":"","full-screen":"","can-cancel":!1},on:{"update:active":function(a){t.isComponentModalActive=a}}},[s("modal-form",t._b({},"modal-form",t.formProps,!1))],1),t._v(" "),s("h1",[t._v(t._s(t.trans.get("maps.templates"))+" (Genial.ly)")]),t._v(" "),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[t._m(0),t._v(" "),s("footer",{staticClass:"card-footer"},[s("p",{staticClass:"card-footer-item mb-0 has-background-primary rounded"},[s("span",[s("a",{staticClass:"has-text-light",attrs:{target:"_blank",href:"https://view.genial.ly/5f6253f951337070914e0604/interactive-content-fantasyclass-1"}},[s("i",{staticClass:"fas fa-eye"}),t._v("\n              "+t._s(t.trans.get("maps.show_template")))])])]),t._v(" "),s("p",{staticClass:"card-footer-item mb-0 has-background-info rounded"},[s("span",[s("a",{staticClass:"has-text-light",attrs:{target:"_blank",href:"https://app.genial.ly/reuse/5f6253f951337070914e0604"}},[s("i",{staticClass:"fas fa-clone"}),t._v("\n              "+t._s(t.trans.get("maps.use_template")))])])])])]),t._v(" "),s("div",{staticClass:"column"},[t._m(1),t._v(" "),s("footer",{staticClass:"card-footer"},[s("p",{staticClass:"card-footer-item mb-0 has-background-primary rounded"},[s("span",[s("a",{staticClass:"has-text-light",attrs:{target:"_blank",href:"https://view.genial.ly/5f6256633c6c490cee94ca80/interactive-content-fantasyclass-2"}},[s("i",{staticClass:"fas fa-eye"}),t._v("\n              "+t._s(t.trans.get("maps.show_template")))])])]),t._v(" "),s("p",{staticClass:"card-footer-item mb-0 has-background-info rounded"},[s("span",[s("a",{staticClass:"has-text-light",attrs:{target:"_blank",href:"https://app.genial.ly/reuse/5f6256633c6c490cee94ca80"}},[s("i",{staticClass:"fas fa-clone"}),t._v("\n              "+t._s(t.trans.get("maps.use_template")))])])]),t._v(" "),t._m(2)])]),t._v(" "),s("div",{staticClass:"column"},[t._m(3),t._v(" "),s("footer",{staticClass:"card-footer"},[s("p",{staticClass:"card-footer-item mb-0 has-background-primary rounded"},[s("span",[s("a",{staticClass:"has-text-light",attrs:{target:"_blank",href:"https://view.genial.ly/5f633cd051337070914e116e/interactive-content-fantasyclass-3"}},[s("i",{staticClass:"fas fa-eye"}),t._v("\n              "+t._s(t.trans.get("maps.show_template")))])])]),t._v(" "),s("p",{staticClass:"card-footer-item mb-0 has-background-info rounded"},[s("span",[s("a",{staticClass:"has-text-light",attrs:{target:"_blank",href:"https://app.genial.ly/reuse/5f633cd051337070914e116e"}},[s("i",{staticClass:"fas fa-clone"}),t._v("\n              "+t._s(t.trans.get("maps.use_template")))])])])])])])],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-content has-text-centered"},[a("img",{attrs:{src:"/img/maps/FantasyClass-1.png"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-content has-text-centered"},[a("img",{attrs:{src:"/img/maps/FantasyClass-2.png"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",{staticClass:"card-footer-item mb-0 has-background-dark rounded"},[a("span",[a("a",{staticClass:"has-text-light",attrs:{href:"https://twitter.com/soyjujo_juanjo",target:"_blank"}},[a("i",{staticClass:"fad fa-image"}),this._v(" By Jujo")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-content has-text-centered"},[a("img",{attrs:{src:"/img/maps/FantasyClass-3.png"}})])}],!1,null,null,null);a.default=r.exports},cUxf:function(t,a,s){"use strict";var e=s("dQDT");s.n(e).a},dQDT:function(t,a,s){var e=s("vgx4");"string"==typeof e&&(e=[[t.i,e,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(e,n);e.locals&&(t.exports=e.locals)},vgx4:function(t,a,s){(t.exports=s("I1BE")(!1)).push([t.i,"tr.is-info{background:#00d1b2;color:#fff}.align-right{text-align:right}td [data-label=Url]{word-break:break-all}",""])}}]);